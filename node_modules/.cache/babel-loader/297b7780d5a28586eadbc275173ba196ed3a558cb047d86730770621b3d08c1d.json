{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zoe/Desktop/Independent/timer/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zoe/Desktop/Independent/timer/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/timer/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import Header from\"../components/Header\";import WeeklyBarChart from\"../components/WeeklyBarChart\";import MonthlyBarChart from\"../components/MonthlyBarChart\";import Calories from'../components/Calories';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Report=function Report(){var _useState=useState({today:\"\",week:\"\",month:\"\"}),_useState2=_slicedToArray(_useState,2),totalTime=_useState2[0],setTotalTime=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var email,timeZone,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;email=localStorage.getItem(\"email\");if(email){_context.next=5;break;}console.error(\"Email not found in localStorage\");return _context.abrupt(\"return\");case 5:// Get user's timezone\ntimeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;_context.next=8;return axios.post(\"https://www.zoelindev.com/timer/API/total.php\",{email:email,timeZone:timeZone});case 8:response=_context.sent;if(response.data){setTotalTime({today:response.data.todayTotal,week:response.data.weekTotal,month:response.data.monthTotal});console.log(response.data);}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"report\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"totalTime\",children:\"Total Time\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"frame\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Today\"}),/*#__PURE__*/_jsx(\"p\",{children:totalTime.today}),/*#__PURE__*/_jsx(\"p\",{children:\"MM:SS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"frame\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"This week\"}),/*#__PURE__*/_jsx(\"p\",{children:totalTime.week}),/*#__PURE__*/_jsx(\"p\",{children:\"HH:MM:SS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"frame\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"This month\"}),/*#__PURE__*/_jsx(\"p\",{children:totalTime.month}),/*#__PURE__*/_jsx(\"p\",{children:\"HH:MM:SS\"})]})]}),/*#__PURE__*/_jsx(Calories,{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"chartitle\",children:\"Weekly Exercise Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"note\",children:\"X:mins, Y:day of week\"}),/*#__PURE__*/_jsx(WeeklyBarChart,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"chartitle\",children:\"Monthly Exercise Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"note\",children:\"X:mins, Y:day of month\"}),/*#__PURE__*/_jsx(MonthlyBarChart,{})]});};export default Report;","map":{"version":3,"names":["useState","useEffect","axios","Header","WeeklyBarChart","MonthlyBarChart","Calories","jsx","_jsx","jsxs","_jsxs","Report","_useState","today","week","month","_useState2","_slicedToArray","totalTime","setTotalTime","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","timeZone","response","wrap","_callee$","_context","prev","next","localStorage","getItem","console","error","abrupt","Intl","DateTimeFormat","resolvedOptions","post","sent","data","todayTotal","weekTotal","monthTotal","log","t0","stop","apply","arguments","className","children"],"sources":["/Users/zoe/Desktop/Independent/timer/my-app/src/pages/Report.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Header from \"../components/Header\";\nimport WeeklyBarChart from \"../components/WeeklyBarChart\"\nimport MonthlyBarChart from \"../components/MonthlyBarChart\"\nimport Calories from '../components/Calories'\n\nconst Report = () => {\n  const [totalTime, setTotalTime] = useState({\n    today: \"\",\n    week: \"\",\n    month: \"\",\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const email = localStorage.getItem(\"email\");\n\n        if (!email) {\n          console.error(\"Email not found in localStorage\");\n          return;\n        }\n\n        // Get user's timezone\n        const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n        const response = await axios.post(\n          \"https://www.zoelindev.com/timer/API/total.php\",\n          { email, timeZone }\n        );\n\n        if (response.data) {\n          setTotalTime({\n            today: response.data.todayTotal,\n            week: response.data.weekTotal,\n            month: response.data.monthTotal,\n          });\n\n          console.log(response.data);\n        }\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"report\">\n      <Header />\n      <div>\n        <h2 className=\"totalTime\">Total Time</h2>\n        <div className=\"frame\">\n          <p>Today</p>\n          <p>{totalTime.today}</p>\n          <p>MM:SS</p>\n        </div>\n        <div className=\"frame\">\n          <p>This week</p>\n          <p>{totalTime.week}</p>\n          <p>HH:MM:SS</p>\n        </div>\n        <div className=\"frame\">\n          <p>This month</p>\n          <p>{totalTime.month}</p>\n          <p>HH:MM:SS</p>\n        </div>\n      </div>\n      <Calories />\n      <hr></hr>\n      <h2 className=\"chartitle\">Weekly Exercise Time</h2>\n      <p className=\"note\">X:mins, Y:day of week</p>\n      <WeeklyBarChart/>\n\n      <h2 className=\"chartitle\">Monthly Exercise Time</h2>\n      <p className=\"note\">X:mins, Y:day of month</p>\n      <MonthlyBarChart/>\n    </div>\n  );\n};\n\nexport default Report;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}