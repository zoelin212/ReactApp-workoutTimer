{"ast":null,"code":"var _jsxFileName = \"/Users/zoe/Desktop/Independent/timer/my-app/src/components/WeeklyBarChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Bar } from \"react-chartjs-2\";\nimport { getWeek, startOfWeek } from \"date-fns\";\nimport { utcToZonedTime, zonedTimeToUtc } from \"date-fns-tz\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeeklyBarChart = () => {\n  _s();\n  const [weekData, setWeekData] = useState({});\n  const [email, setEmail] = useState(\"\");\n  useEffect(() => {\n    const fetchData = async () => {\n      const storedEmail = localStorage.getItem(\"email\");\n      if (!storedEmail) {\n        console.error(\"Email not found in local storage\");\n        return;\n      }\n      setEmail(storedEmail);\n      const result = await axios.post(\"https://www.zoelindev.com/timer/API/bar.php\", {\n        email: storedEmail\n      });\n      setWeekData(result.data.weekData);\n    };\n    fetchData();\n  }, []);\n  const weekDataLabels = [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"];\n  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const currentDate = new Date();\n  const zonedDate = utcToZonedTime(currentDate, timeZone);\n  const currentWeek = getWeek(zonedDate);\n  const weekStartDate = startOfWeek(zonedDate);\n  const weekDataValues = Array.from(Array(7), (_, i) => {\n    const date = new Date(weekStartDate);\n    date.setDate(date.getDate() + i);\n    const formattedDate = date.toISOString().split(\"T\")[0];\n    return parseFloat((weekData[formattedDate] || 0) / 60).toFixed(1); // turn seconds to mins\n  });\n\n  const weekChartData = {\n    labels: weekDataLabels,\n    datasets: [{\n      label: \"null\",\n      data: weekDataValues,\n      backgroundColor: [\"rgba(255, 99, 132, 0.2)\", \"rgba(255, 159, 64, 0.2)\", \"rgba(255, 205, 86, 0.2)\", \"rgba(75, 192, 192, 0.2)\", \"rgba(54, 162, 235, 0.2)\", \"rgba(153, 102, 255, 0.2)\", \"rgba(201, 203, 207, 0.2)\"],\n      borderColor: [\"rgb(255, 99, 132)\", \"rgb(255, 159, 64)\", \"rgb(255, 205, 86)\", \"rgb(75, 192, 192)\", \"rgb(54, 162, 235)\", \"rgb(153, 102, 255)\", \"rgb(201, 203, 207)\"],\n      borderWidth: 1\n    }]\n  };\n  const weekChartOptions = {\n    legend: {\n      display: false\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Bar, {\n      data: weekChartData,\n      options: weekChartOptions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 7\n  }, this);\n};\n_s(WeeklyBarChart, \"a/1xgGcob+Na2d2JoETAPG2p07w=\");\n_c = WeeklyBarChart;\nexport default WeeklyBarChart;\nvar _c;\n$RefreshReg$(_c, \"WeeklyBarChart\");","map":{"version":3,"names":["React","useState","useEffect","axios","Bar","getWeek","startOfWeek","utcToZonedTime","zonedTimeToUtc","jsxDEV","_jsxDEV","WeeklyBarChart","_s","weekData","setWeekData","email","setEmail","fetchData","storedEmail","localStorage","getItem","console","error","result","post","data","weekDataLabels","timeZone","Intl","DateTimeFormat","resolvedOptions","currentDate","Date","zonedDate","currentWeek","weekStartDate","weekDataValues","Array","from","_","i","date","setDate","getDate","formattedDate","toISOString","split","parseFloat","toFixed","weekChartData","labels","datasets","label","backgroundColor","borderColor","borderWidth","weekChartOptions","legend","display","children","options","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/zoe/Desktop/Independent/timer/my-app/src/components/WeeklyBarChart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Bar } from \"react-chartjs-2\";\nimport { getWeek, startOfWeek } from \"date-fns\";\nimport { utcToZonedTime, zonedTimeToUtc } from \"date-fns-tz\";\n\n\nconst WeeklyBarChart = () => {\n  const [weekData, setWeekData] = useState({});\n  const [email, setEmail] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const storedEmail = localStorage.getItem(\"email\");\n      if (!storedEmail) {\n        console.error(\"Email not found in local storage\");\n        return;\n      }\n\n      setEmail(storedEmail);\n\n      const result = await axios.post(\n        \"https://www.zoelindev.com/timer/API/bar.php\",\n        {\n          email: storedEmail,\n        }\n      );\n      setWeekData(result.data.weekData);\n    };\n\n    fetchData();\n  }, []);\n\n  const weekDataLabels = [\n    \"S\",\n    \"M\",\n    \"T\",\n    \"W\",\n    \"T\",\n    \"F\",\n    \"S\",\n  ];\n\n  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const currentDate = new Date();\n  const zonedDate = utcToZonedTime(currentDate, timeZone);\n  const currentWeek = getWeek(zonedDate);\n  const weekStartDate = startOfWeek(zonedDate);\n\n\n  const weekDataValues = Array.from(Array(7), (_, i) => {\n    const date = new Date(weekStartDate);\n    date.setDate(date.getDate() + i);\n    const formattedDate = date.toISOString().split(\"T\")[0];\n    return parseFloat((weekData[formattedDate] || 0) / 60).toFixed(1); // turn seconds to mins\n  });\n  \n\n  const weekChartData = {\n    labels: weekDataLabels,\n    datasets: [\n      {\n        label: \"null\",\n        data: weekDataValues,\n        backgroundColor: [\n          \"rgba(255, 99, 132, 0.2)\",\n          \"rgba(255, 159, 64, 0.2)\",\n          \"rgba(255, 205, 86, 0.2)\",\n          \"rgba(75, 192, 192, 0.2)\",\n          \"rgba(54, 162, 235, 0.2)\",\n          \"rgba(153, 102, 255, 0.2)\",\n          \"rgba(201, 203, 207, 0.2)\",\n        ],\n        borderColor: [\n          \"rgb(255, 99, 132)\",\n          \"rgb(255, 159, 64)\",\n          \"rgb(255, 205, 86)\",\n          \"rgb(75, 192, 192)\",\n          \"rgb(54, 162, 235)\",\n          \"rgb(153, 102, 255)\",\n          \"rgb(201, 203, 207)\",\n        ],\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const weekChartOptions = {\n    legend: {\n      display: false,\n    },\n    \n  };\n\n  return (\n      <div>\n        <Bar data={weekChartData} options={weekChartOptions}/>\n      </div>\n    \n  );\n};\n\nexport default WeeklyBarChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}