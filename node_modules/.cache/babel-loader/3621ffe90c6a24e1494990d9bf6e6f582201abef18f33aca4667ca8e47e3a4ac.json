{"ast":null,"code":"import _defineProperty from\"/Users/zoe/Desktop/Independent/timer/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/zoe/Desktop/Independent/timer/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/timer/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";//import \"./login.css\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var history=useNavigate();var _useState=useState({email:''}),_useState2=_slicedToArray(_useState,2),logInUser=_useState2[0],setLogInUser=_useState2[1];var handleChange=function handleChange(e){setLogInUser(_objectSpread(_objectSpread({},logInUser),{},_defineProperty({},e.target.name,e.target.value)));//console.log(logInUser);\n};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(\"submit works\");var sendLogInUser={email:logInUser.email};console.log(sendLogInUser);axios.post(\"https://www.zoelindev.com/timer/API/login.php\",JSON.stringify({\"email\":document.querySelector(\"#email\").value})).then(function(response){if(response.data===1){// Store email in local storage\nlocalStorage.setItem(\"email\",logInUser.email);var sessionEmail=localStorage.getItem(\"email\");console.log(sessionEmail);alert('Welcome back!');history(\"/timer\");}else{console.log(response.data);alert('Invalid email.');}}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"userPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"round\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"userMid\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./images/logo.svg\",alt:\"Logo\",className:\"logo\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"emailForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"email\",name:\"email\",\"aria-label\":\"Email\",placeholder:\"Email\",required:true,value:logInUser.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{className:\"go\",type:\"submit\",value:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"last\",children:[\"New here?\",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"round2\"})]});};export default Login;","map":{"version":3,"names":["useState","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Login","history","_useState","email","_useState2","_slicedToArray","logInUser","setLogInUser","handleChange","e","_objectSpread","_defineProperty","target","name","value","handleSubmit","preventDefault","console","log","sendLogInUser","post","JSON","stringify","document","querySelector","then","response","data","localStorage","setItem","sessionEmail","getItem","alert","catch","error","className","children","src","alt","onSubmit","type","id","placeholder","required","onChange","to"],"sources":["/Users/zoe/Desktop/Independent/timer/my-app/src/pages/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n//import \"./login.css\";\n\nconst Login = () => {\n    let history = useNavigate();\n\n    const [logInUser, setLogInUser] = useState ({\n      email:'',\n    })\n\n    const handleChange = (e) => {\n      setLogInUser({...logInUser, [e.target.name]: e.target.value});\n      //console.log(logInUser);\n    }\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      console.log(\"submit works\");\n\n      const sendLogInUser = {\n          email:logInUser.email,\n      }\n      console.log(sendLogInUser);\n\n      axios.post(\"https://www.zoelindev.com/timer/API/login.php\" , JSON.stringify({ \n            \"email\": document.querySelector(\"#email\").value,  \n        })).then( (response) => { \n            if(response.data === 1) {\n              // Store email in local storage\n              localStorage.setItem(\"email\", logInUser.email);\n              const sessionEmail = localStorage.getItem(\"email\");\n              console.log(sessionEmail); \n              alert('Welcome back!');\n              history(`/timer`);\n            }else {\n              console.log(response.data); \n              alert('Invalid email.');\n            }\n        }).catch( error => { \n            console.log(error); \n        })\n    }\n\n    return(\n        <div className=\"userPage\">\n\n            <div className=\"round\"></div>\n\n            <div className=\"userMid\">\n                <img src=\"./images/logo.svg\" alt=\"Logo\" className=\"logo\"/>\n              \n\n                <form className=\"emailForm\" onSubmit={handleSubmit}>\n                    <input \n                    type=\"email\" \n                    id=\"email\" \n                    className=\"email\" \n                    name=\"email\"\n                    aria-label=\"Email\" placeholder=\"Email\" \n                    required \n                    value={logInUser.email}\n                    onChange={handleChange}\n                    />\n                    <input className=\"go\" type=\"submit\" value=\"Login\"/>\n                </form>\n\n                <p className=\"last\">New here? \n                    <Link to=\"/register\">Register</Link>\n                </p>\n            </div>\n            <div className=\"round2\"></div>\n      </div>\n    );\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}